<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 30-Day Challenge Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Gentle & Calm -->
    <!-- Application Structure Plan: The application is designed as an interactive dashboard. This structure was chosen over a linear infographic to better suit the task-oriented nature of a daily tracker. The user is immediately presented with an overview of their progress (KPIs and charts) at the top, which provides instant feedback and motivation. Below, a grid of interactive day-cards allows for non-linear interaction, letting the user log progress for any day at any time. A dedicated, button-triggered "Prompt of the Day" feature makes the journaling task more engaging. This architecture prioritizes user interaction, real-time feedback, and clear status visualization, which is the most effective way to make a static plan like this consumable and motivating as a web application. -->
    <!-- Visualization & Content Choices: 
        - Overall Progress: Goal: Inform -> Viz: Donut Chart (Chart.js) -> Interaction: Updates on task completion -> Justification: Excellent for showing part-to-whole percentage, providing a clear visual summary of completion.
        - KPIs (Days Completed, Workouts Logged): Goal: Inform -> Viz: Large Number Display (HTML/CSS) -> Interaction: Updates on task completion -> Justification: High-impact, immediate feedback on key metrics.
        - Daily Task Tracking: Goal: Organize/Interact -> Viz: Interactive Checklists in Cards (HTML/CSS/JS) -> Interaction: User clicks to check/uncheck tasks -> Justification: The most intuitive method for logging progress, making the core loop of the app simple and effective.
        - Journaling Prompts: Goal: Inform/Engage -> Viz: Modal Display (HTML/CSS/JS) -> Interaction: Button click reveals a single prompt -> Justification: Reduces overwhelm from a long list and creates a focused, daily action.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. 
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .task-item:hover {
            background-color: #E5E7EB;
        }
        .task-item.completed {
            background-color: #D1D5DB;
            text-decoration: line-through;
            color: #4B5563;
        }
        .day-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .day-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .day-card-completed {
            background-color: #E0E7FF;
            border-color: #A5B4FC;
        }
        #promptModal, #confirmModal {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">

        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-[#364156]">30-Day Challenge Tracker</h1>
            <p class="text-lg text-[#7284A3] mt-2">Your interactive dashboard for building discipline and new habits.</p>
        </header>

        <main>
            <section id="dashboard" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md flex flex-col justify-center items-center">
                    <h3 class="text-lg font-semibold text-[#364156] mb-2">Days Completed</h3>
                    <p id="days-completed" class="text-5xl font-bold text-[#7284A3]">0/30</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md flex flex-col justify-center items-center">
                    <h3 class="text-lg font-semibold text-[#364156] mb-2">Total Workouts Logged</h3>
                    <p id="workouts-logged" class="text-5xl font-bold text-[#7284A3]">0</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md md:col-span-2 lg:col-span-1">
                    <h3 class="text-lg font-semibold text-center text-[#364156] mb-2">Overall Progress</h3>
                    <div class="chart-container h-48 md:h-56">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="daily-tracker" class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h2 class="text-2xl font-bold text-center text-[#364156] mb-6">Daily Checklist</h2>
                <div id="days-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
                </div>
            </section>

            <section id="journaling" class="text-center">
                 <button id="prompt-btn" class="bg-[#7284A3] text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-[#364156] transition-colors">
                    Get Today's Journal Prompt
                </button>
            </section>
            
             <footer class="text-center mt-12">
                <button id="reset-btn" class="text-sm text-gray-500 hover:text-red-600 hover:underline">Reset All Progress</button>
            </footer>

        </main>
    </div>

    <div id="promptModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl p-8 max-w-lg w-full transform transition-transform duration-300 scale-95">
            <h2 class="text-2xl font-bold text-[#364156] mb-4">Journal Prompt of the Day</h2>
            <p id="prompt-text" class="text-lg text-gray-700 mb-6"></p>
            <button id="close-modal-btn" class="bg-[#7284A3] text-white font-bold py-2 px-5 rounded-lg hover:bg-[#364156] transition-colors w-full">Close</button>
        </div>
    </div>
    
    <div id="confirmModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl p-8 max-w-lg w-full transform transition-transform duration-300 scale-95 text-center">
            <h2 class="text-xl font-bold text-red-600 mb-4">Reset Progress</h2>
            <p class="text-lg text-gray-700 mb-6">Are you sure you want to reset all your progress? This cannot be undone.</p>
            <div class="flex justify-center gap-4">
                <button id="confirm-reset-btn" class="bg-red-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-red-700 transition-colors">Yes, Reset</button>
                <button id="cancel-reset-btn" class="bg-gray-300 text-gray-800 font-bold py-2 px-5 rounded-lg hover:bg-gray-400 transition-colors">Cancel</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const workoutSchedule = [
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 1
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 2
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 3
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 4
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 5
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 6
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 7
                
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 8
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 9
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 10
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 11
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 12
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 13
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 14
                
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 15
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 16
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 17
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 18
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 19
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 20
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 21

                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 22
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 23
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 24
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 25
                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 26
                { strength: 'Strength: Lower Body & Core', cardio: 'Cardio or walk' }, // Day 27
                { strength: 'Strength: Upper Body', cardio: 'Cardio or walk' },       // Day 28

                { strength: 'Rest Day', cardio: 'Cardio or walk' },                      // Day 29
                { strength: 'Strength: Full Body', cardio: 'Cardio or walk' },        // Day 30
            ];

            const challengeData = {
                journalPrompts: [
                    "What was my biggest success today, no matter how small?",
                    "What challenge did I overcome today, and how did I do it?",
                    "How is my mindset shifting as I progress through the challenge?",
                    "What is one thing I'm grateful for related to my health today?",
                    "How did I feel during my workouts? What surprised me?",
                    "What is one thing I will do tomorrow to make it an even better day?",
                    "What non-physical benefits am I noticing from this challenge?",
                    "How can I show myself more compassion today?",
                    "What were my energy levels like today, and what could have influenced them?",
                    "Did I listen to my body today? What did it tell me?",
                    "What habit from this challenge do I want to continue after 30 days?",
                    "How did I handle a moment of temptation today?",
                    "What is my biggest motivation for completing this challenge?",
                    "How am I building mental toughness one day at a time?",
                    "What is one physical improvement I've noticed so far?",
                    "What am I most proud of from today's efforts?",
                    "How does my mood feel after completing my workouts?",
                    "What is one new thing I've learned about myself during this journey?",
                    "What is my 'why'? Why did I start this challenge in the first place?",
                    "How can I prepare for tomorrow to set myself up for success?",
                    "What is the biggest hurdle I'm facing right now, and what's my plan to overcome it?",
                    "How am I celebrating my progress this week?",
                    "What is one piece of advice I would give myself from day one?",
                    "How am I defining success for myself in this challenge?",
                    "What feelings came up for me during the journaling process today?",
                    "How can I better manage my time to fit in both workouts?",
                    "What am I looking forward to most in the next week of the challenge?",
                    "How has my relationship with food or exercise changed?",
                    "Looking back, what has been the most significant change so far?",
                    "What did I learn about myself that I can take with me into the future?"
                ]
            };

            let progressData;
            let progressChart;

            function initializeProgress() {
                const defaultProgress = Array.from({ length: 30 }, (_, i) => ({
                    day: i + 1,
                    tasks: {
                        strength: false,
                        cardio: false,
                        read: false,
                        journal: false
                    }
                }));

                const savedProgress = localStorage.getItem('challengeProgress');
                progressData = savedProgress ? JSON.parse(savedProgress) : defaultProgress;
            }

            function saveProgress() {
                localStorage.setItem('challengeProgress', JSON.stringify(progressData));
            }

            function updateDashboard() {
                const daysCompleted = progressData.filter(day => Object.values(day.tasks).every(t => t)).length;
                const totalWorkouts = progressData.reduce((acc, day) => {
                    const workoutTask = workoutSchedule[day.day - 1].strength;
                    if (workoutTask !== 'Rest Day' && day.tasks.strength) {
                        acc++;
                    }
                    if (day.tasks.cardio) {
                        acc++;
                    }
                    return acc;
                }, 0);

                const daysCompletedEl = document.getElementById('days-completed');
                const workoutsLoggedEl = document.getElementById('workouts-logged');
                if (daysCompletedEl && workoutsLoggedEl) {
                    daysCompletedEl.textContent = `${daysCompleted}/30`;
                    workoutsLoggedEl.textContent = totalWorkouts;
                }

                if (progressChart) {
                    progressChart.data.datasets[0].data = [daysCompleted, 30 - daysCompleted];
                    progressChart.update();
                }
            }
            
            function renderDayGrid() {
                const grid = document.getElementById('days-grid');
                if (!grid) return;
                grid.innerHTML = ''; 
                progressData.forEach((dayData, index) => {
                    const dayCard = document.createElement('div');
                    const allTasksDone = Object.values(dayData.tasks).every(t => t);
                    dayCard.className = `day-card border-2 p-4 rounded-lg cursor-pointer ${allTasksDone ? 'day-card-completed' : 'bg-gray-50'}`;
                    
                    let strengthTaskLabel = workoutSchedule[index].strength;
                    let cardioTaskLabel = workoutSchedule[index].cardio;
                    
                    let tasksHtml = `
                        <h4 class="font-bold text-lg text-center mb-3">Day ${dayData.day}</h4>
                        <ul class="space-y-2">
                            <li class="task-item p-2 rounded ${dayData.tasks.strength ? 'completed' : ''}" data-day="${index}" data-task="strength">${strengthTaskLabel}</li>
                            <li class="task-item p-2 rounded ${dayData.tasks.cardio ? 'completed' : ''}" data-day="${index}" data-task="cardio">${cardioTaskLabel}</li>
                            <li class="task-item p-2 rounded ${dayData.tasks.read ? 'completed' : ''}" data-day="${index}" data-task="read">Read or Coursera</li>
                            <li class="task-item p-2 rounded ${dayData.tasks.journal ? 'completed' : ''}" data-day="${index}" data-task="journal">Journal</li>
                        </ul>
                    `;
                    dayCard.innerHTML = tasksHtml;
                    grid.appendChild(dayCard);
                });
            }

            function setupEventListeners() {
                const daysGrid = document.getElementById('days-grid');
                const resetBtn = document.getElementById('reset-btn');
                const promptBtn = document.getElementById('prompt-btn');
                const closeModalBtn = document.getElementById('close-modal-btn');
                const modal = document.getElementById('promptModal');

                if (daysGrid) {
                    daysGrid.addEventListener('click', (e) => {
                        const target = e.target.closest('.task-item');
                        if (target) {
                            const dayIndex = parseInt(target.dataset.day);
                            const taskType = target.dataset.task;
                            
                            progressData[dayIndex].tasks[taskType] = !progressData[dayIndex].tasks[taskType];
                            
                            saveProgress();
                            renderDayGrid();
                            updateDashboard();
                        }
                    });
                }

                if (resetBtn) {
                    resetBtn.addEventListener('click', showConfirmModal);
                }
                
                if (promptBtn) {
                    promptBtn.addEventListener('click', () => {
                        setupModal(modal, closeModalBtn);
                    });
                }
                 if (closeModalBtn) {
                     closeModalBtn.addEventListener('click', () => {
                         closeModal(modal);
                     });
                 }
                 if (modal) {
                     modal.addEventListener('click', (e) => {
                         if (e.target === modal) {
                             closeModal(modal);
                         }
                     });
                 }

                setupConfirmModal();
            }
            
            function setupModal(modal, closeBtn) {
                 const promptText = document.getElementById('prompt-text');
                 const modalContent = modal ? modal.querySelector('div') : null;

                 const today = new Date();
                 const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
                 const promptIndex = dayOfYear % challengeData.journalPrompts.length;
                 if (promptText) {
                     promptText.textContent = challengeData.journalPrompts[promptIndex];
                 }
                 modal.classList.remove('hidden');
                 setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    if (modalContent) modalContent.classList.remove('scale-95');
                 }, 10);
            }
            
            function closeModal(modal) {
                const modalContent = modal ? modal.querySelector('div') : null;
                if (modal) {
                    modal.classList.add('opacity-0');
                    if (modalContent) modalContent.classList.add('scale-95');
                    setTimeout(() => modal.classList.add('hidden'), 300);
                }
            }


            function showConfirmModal() {
                const modal = document.getElementById('confirmModal');
                if (modal) {
                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0');
                    }, 10);
                }
            }
            
            function hideConfirmModal() {
                const modal = document.getElementById('confirmModal');
                if (modal) {
                    modal.classList.add('opacity-0');
                    setTimeout(() => modal.classList.add('hidden'), 300);
                }
            }

            function setupConfirmModal() {
                const confirmBtn = document.getElementById('confirm-reset-btn');
                const cancelBtn = document.getElementById('cancel-reset-btn');
                
                if (confirmBtn) {
                    confirmBtn.addEventListener('click', () => {
                        localStorage.removeItem('challengeProgress');
                        initializeProgress();
                        renderDayGrid();
                        updateDashboard();
                        hideConfirmModal();
                    });
                }
                
                if (cancelBtn) {
                    cancelBtn.addEventListener('click', hideConfirmModal);
                }
            }

            function createProgressChart() {
                const ctx = document.getElementById('progressChart');
                if (!ctx) return;
                
                progressChart = new Chart(ctx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Completed', 'Remaining'],
                        datasets: [{
                            data: [0, 30],
                            backgroundColor: ['#7284A3', '#E8E8E8'],
                            borderColor: ['#FFFFFF'],
                            borderWidth: 4,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: true
                            }
                        }
                    }
                });
            }

            function init() {
                initializeProgress();
                createProgressChart();
                renderDayGrid();
                updateDashboard();
                setupEventListeners();
            }

            init();
        });
    </script>

</body>
</html>
